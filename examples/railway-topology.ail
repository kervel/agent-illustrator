// Railway Topology - Three Level Abstraction

col diagram {
    // === MICRO LEVEL ===
    group micro [label: "Micro"] {
        col tracks {
            line t1 [stroke: #4169E1, stroke_width: 2]
            line t2 [stroke: #4169E1, stroke_width: 2]
            line t3 [stroke: #4169E1, stroke_width: 2]
            line t4 [stroke: #4169E1, stroke_width: 2]
            line t5 [stroke: #4169E1, stroke_width: 2]
            line t6 [stroke: #4169E1, stroke_width: 2]
        }
    }

    // === MESO LEVEL ===
    group meso [label: "Meso"] {
        stack overlay {
            col meso_tracks {
                line m1 [stroke: #4169E1, stroke_width: 2]
                line m2 [stroke: #4169E1, stroke_width: 2]
                line m3 [stroke: #4169E1, stroke_width: 2]
                line m4 [stroke: #4169E1, stroke_width: 2]
                line m5 [stroke: #4169E1, stroke_width: 2]
            }
            row ops {
                ellipse op1 [fill: #90EE90, opacity: 0.35, label: "OP1"]
                ellipse op2 [fill: #90EE90, opacity: 0.35, label: "OP2"]
            }
        }
    }

    // === MACRO LEVEL ===
    group macro [label: "Macro"] {
        row graph {
            line ls1 [stroke: #4169E1, stroke_width: 2]
            ellipse n1 [fill: #2E8B57, label: "OP1"]
            line ls2 [stroke: #4169E1, stroke_width: 2]
            ellipse n2 [fill: #2E8B57, label: "OP2"]
            line ls3 [stroke: #4169E1, stroke_width: 2]
        }
    }

    // Aggregation arrows
    micro -> meso [label: "Aggregation", stroke: #555555]
    meso -> macro [label: "Aggregation", stroke: #555555]
}
